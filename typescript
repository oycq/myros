Script started on 2019-11-20 15:56:51+0800
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ls
[0m[01;34mcamera[0m  [01;34mdetect[0m  [01;34mgimbal[0m  [01;34mpid[0m  [01;32mscript.sh[0m  typescript
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# suo ./[K[Ksh[K[K[K[Kdu sh script.sh 

Command 'sudu' not found, did you mean:

  command 'sudo' from deb sudo
  command 'sudo' from deb sudo-ldap
  command 'tudu' from deb tudu

Try: apt install <deb name>

]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# sudu sh script.sh [C[1P[1@o
script.sh: 1: script.sh: roscroe: not found
chmod: cannot access '/dev/ttyUSB0': No such file or directory
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# df
Filesystem     1K-blocks      Used Available Use% Mounted on
udev            32781956         0  32781956   0% /dev
tmpfs            6563632      2224   6561408   1% /run
/dev/nvme0n1p2 479152840 177201496 277541952  39% /
tmpfs           32818148    119744  32698404   1% /dev/shm
tmpfs               5120         4      5116   1% /run/lock
tmpfs           32818148         0  32818148   0% /sys/fs/cgroup
/dev/loop0        160512    160512         0 100% /snap/gnome-3-28-1804/110
/dev/loop1          3840      3840         0 100% /snap/gnome-system-monitor/111
/dev/loop2         55936     55936         0 100% /snap/core18/1223
/dev/loop3          3840      3840         0 100% /snap/gnome-system-monitor/107
/dev/loop4          1024      1024         0 100% /snap/gnome-logs/73
/dev/loop6        144128    144128         0 100% /snap/gnome-3-26-1604/97
/dev/loop7        207744    207744         0 100% /snap/vlc/1049
/dev/loop9         91264     91264         0 100% /snap/core/7917
/dev/loop5          4352      4352         0 100% /snap/gnome-calculator/536
/dev/loop10        15104     15104         0 100% /snap/gnome-characters/367
/dev/loop8        159872    159872         0 100% /snap/gnome-3-28-1804/91
/dev/loop11        43904     43904         0 100% /snap/gtk-common-themes/1313
/dev/loop12       144128    144128         0 100% /snap/gnome-3-26-1604/98
/dev/loop14        91264     91264         0 100% /snap/core/8039
/dev/loop13        55936     55936         0 100% /snap/core18/1265
/dev/loop15         4352      4352         0 100% /snap/gnome-calculator/544
/dev/loop16        15104     15104         0 100% /snap/gnome-characters/359
/dev/loop17         1024      1024         0 100% /snap/gnome-logs/81
/dev/loop18        45312     45312         0 100% /snap/gtk-common-themes/1353
/dev/nvme0n1p1    523248      4744    518504   1% /boot/efi
tmpfs            6563628        32   6563596   1% /run/user/1000
none             1048576         0   1048576   0% /home/oycq/myros/camera/ram
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# df 0[K-h
Filesystem      Size  Used Avail Use% Mounted on
udev             32G     0   32G   0% /dev
tmpfs           6.3G  2.2M  6.3G   1% /run
/dev/nvme0n1p2  457G  169G  265G  39% /
tmpfs            32G  117M   32G   1% /dev/shm
tmpfs           5.0M  4.0K  5.0M   1% /run/lock
tmpfs            32G     0   32G   0% /sys/fs/cgroup
/dev/loop0      157M  157M     0 100% /snap/gnome-3-28-1804/110
/dev/loop1      3.8M  3.8M     0 100% /snap/gnome-system-monitor/111
/dev/loop2       55M   55M     0 100% /snap/core18/1223
/dev/loop3      3.8M  3.8M     0 100% /snap/gnome-system-monitor/107
/dev/loop4      1.0M  1.0M     0 100% /snap/gnome-logs/73
/dev/loop6      141M  141M     0 100% /snap/gnome-3-26-1604/97
/dev/loop7      203M  203M     0 100% /snap/vlc/1049
/dev/loop9       90M   90M     0 100% /snap/core/7917
/dev/loop5      4.3M  4.3M     0 100% /snap/gnome-calculator/536
/dev/loop10      15M   15M     0 100% /snap/gnome-characters/367
/dev/loop8      157M  157M     0 100% /snap/gnome-3-28-1804/91
/dev/loop11      43M   43M     0 100% /snap/gtk-common-themes/1313
/dev/loop12     141M  141M     0 100% /snap/gnome-3-26-1604/98
/dev/loop14      90M   90M     0 100% /snap/core/8039
/dev/loop13      55M   55M     0 100% /snap/core18/1265
/dev/loop15     4.3M  4.3M     0 100% /snap/gnome-calculator/544
/dev/loop16      15M   15M     0 100% /snap/gnome-characters/359
/dev/loop17     1.0M  1.0M     0 100% /snap/gnome-logs/81
/dev/loop18      45M   45M     0 100% /snap/gtk-common-themes/1353
/dev/nvme0n1p1  511M  4.7M  507M   1% /boot/efi
tmpfs           6.3G   32K  6.3G   1% /run/user/1000
none            1.0G     0  1.0G   0% /home/oycq/myros/camera/ram
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# cd ^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# cd^C
]0;root@titan: ~/myros[01;32mroot@titan[00m:[01;34m~/myros[00m# cd camera/
]0;root@titan: ~/myros/camera[01;32mroot@titan[00m:[01;34m~/myros/camera[00m# jkl^C
]0;root@titan: ~/myros/camera[01;32mroot@titan[00m:[01;34m~/myros/camera[00m# ls
camera_node.py  cap.py  display_node.py  [0m[30;42mram[0m
]0;root@titan: ~/myros/camera[01;32mroot@titan[00m:[01;34m~/myros/camera[00m# vim camera_node.py 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[?25l[24;1H"camera_node.py" 90L, 3089C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[93m  1 [m[38;5;244m[48;5;234m[38;5;239m[48;5;235m#!/usr/bin/env python[m[38;5;244m[48;5;234m[48;5;235m                                                       [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m  2 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m rospy
[38;5;239m[48;5;235m  3 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m std_msgs.msg
[38;5;239m[48;5;235m  4 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m PySpin
[38;5;239m[48;5;235m  5 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m numpy [38;5;64mas[m[38;5;244m[48;5;234m np
[38;5;239m[48;5;235m  6 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m cv2
[38;5;239m[48;5;235m  7 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m serial[38;5;239m#sudo pip3 install pyserial[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  8 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m time
[38;5;239m[48;5;235m  9 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m os
[38;5;239m[48;5;235m 10 
 11 [m[38;5;244m[48;5;234msetting_list = [
[38;5;239m[48;5;235m 12 [m[38;5;244m[48;5;234m    [[38;5;37m'TriggerMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Off'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 13 [m[38;5;244m[48;5;234m    [[38;5;37m'StreamBufferHandlingMode'[m[38;5;244m[48;5;234m  , [38;5;37m'NewestOnly'[m[38;5;244m[48;5;234m      , [38;5;37m'Stream'[m[38;5;244m[48;5;234m ],
[38;5;239m[48;5;235m 14 [m[38;5;244m[48;5;234m    [[38;5;37m'AcquisitionMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Continuous'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 15 [m[38;5;244m[48;5;234m[16C]
[38;5;239m[48;5;235m 16 
 17 [m[38;5;244m[48;5;234m[38;5;64mclass[m[38;5;244m[48;5;234m [38;5;33mCamera[m[38;5;244m[48;5;234m():
[38;5;239m[48;5;235m 18 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mconfig_camera[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 19 [m[38;5;244m[48;5;234m[8Ccam = self.cam
[38;5;239m[48;5;235m 20 [m[38;5;244m[48;5;234m[8Csetting_list = self.setting_list
[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m[8C[38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):
[38;5;239m[48;5;235m 22 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'General'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()[24;63H1,1[11CTop[1;5H[?25h[?25l[24;1H[K[24;1H:[?2004hYcmCompleter GoTo[62C1,1[11CTop[1;5H[?25h[?25l[24;1H[38;5;33m-- REPLACE --[m[38;5;244m[48;5;234m[24;15H[K[24;63H1,1[11CTopP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25h[1;5Hj[38;5;239m[48;5;235m#[m[38;5;244m[48;5;234m[24;1H[K[?25l[24;63H1,1[11CTop[1;5H[?25h[?25l[24;65H2[1;6H[?25h[?25l[38;5;239m[48;5;235m  1 [m[38;5;244m[48;5;234m[38;5;239m#!/usr/bin/env python[m[38;5;244m[48;5;234m[1;26H[K[2;1H[93m  2 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m rospy                                                                [m[38;5;244m[48;5;234m[24;63H2[2;6H[?25h[?25l[38;5;239m[48;5;235m  2 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m rospy[2;17H[K[3;1H[93m  3 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m std_msgs.msg                                                         [m[38;5;244m[48;5;234m[24;63H3[3;6H[?25h[?25l[38;5;239m[48;5;235m  3 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m std_msgs.msg[3;24H[K[4;1H[93m  4 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m PySpin                                                               [m[38;5;244m[48;5;234m[24;63H4[4;6H[?25h[?25l[38;5;239m[48;5;235m  4 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m PySpin[4;18H[K[5;1H[93m  5 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m numpy [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mas[m[38;5;244m[48;5;234m[48;5;235m np                                                          [m[38;5;244m[48;5;234m[24;63H5[5;6H[?25h[?25l[38;5;239m[48;5;235m  5 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m numpy [38;5;64mas[m[38;5;244m[48;5;234m np[5;23H[K[6;1H[93m  6 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m cv2                                                                  [m[38;5;244m[48;5;234m[24;63H6[6;6H[?25h[?25l[38;5;239m[48;5;235m  6 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m cv2[6;15H[K[7;1H[93m  7 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m serial[m[38;5;244m[48;5;234m[38;5;239m[48;5;235m#sudo pip3 install pyserial[m[38;5;244m[48;5;234m[48;5;235m                                    [m[38;5;244m[48;5;234m[24;63H7[7;6H[?25h[?25l[38;5;239m[48;5;235m  7 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m serial[38;5;239m#sudo pip3 install pyserial[m[38;5;244m[48;5;234m[7;45H[K[8;1H[93m  8 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m time                                                                 [m[38;5;244m[48;5;234m[24;63H8[8;6H[?25h[?25l[38;5;239m[48;5;235m  8 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m time[8;16H[K[9;1H[93m  9 [m[38;5;244m[48;5;234m[38;5;166m[48;5;235mimport[m[38;5;244m[48;5;234m[48;5;235m os                                                                   [m[38;5;244m[48;5;234m[24;63H9[9;6H[?25h[?25l[38;5;239m[48;5;235m  9 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m os[9;14H[K[10;1H[93m 10 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[24;63H10,0-1[10;5H[?25h[?25l[38;5;239m[48;5;235m 10 [m[38;5;244m[48;5;234m[10;5H[K[11;1H[93m 11 [m[38;5;244m[48;5;234m[48;5;235msetting_list = [                                                            [m[38;5;244m[48;5;234m[24;64H1,2  [11;6H[?25h[?25l[38;5;239m[48;5;235m 11 [m[38;5;244m[48;5;234msetting_list = [[11;21H[K[12;1H[93m 12 [m[38;5;244m[48;5;234m[48;5;235m    [[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'TriggerMode'[m[38;5;244m[48;5;234m[48;5;235m           , [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Off'[m[38;5;244m[48;5;234m[48;5;235m      , [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m],                     [m[38;5;244m[48;5;234m[24;64H2[12;6H[?25h[?25l[38;5;239m[48;5;235m 12 [m[38;5;244m[48;5;234m    [[38;5;37m'TriggerMode'[m[38;5;244m[48;5;234m           , [38;5;37m'Off'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],[12;60H[K[13;1H[93m 13 [m[38;5;244m[48;5;234m[48;5;235m    [[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'StreamBufferHandlingMode'[m[38;5;244m[48;5;234m[48;5;235m  , [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'NewestOnly'[m[38;5;244m[48;5;234m[48;5;235m      , [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Stream'[m[38;5;244m[48;5;234m[48;5;235m ],          [m[38;5;244m[48;5;234m[24;64H3[13;6H[?25h[?25l[38;5;239m[48;5;235m 13 [m[38;5;244m[48;5;234m    [[38;5;37m'StreamBufferHandlingMode'[m[38;5;244m[48;5;234m  , [38;5;37m'NewestOnly'[m[38;5;244m[48;5;234m      , [38;5;37m'Stream'[m[38;5;244m[48;5;234m ],[13;71H[K[14;1H[93m 14 [m[38;5;244m[48;5;234m[48;5;235m    [[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'AcquisitionMode'[m[38;5;244m[48;5;234m[48;5;235m           , [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Continuous'[m[38;5;244m[48;5;234m[48;5;235m      , [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m],          [m[38;5;244m[48;5;234m[24;64H4[14;6H[?25h[?25l[38;5;239m[48;5;235m 14 [m[38;5;244m[48;5;234m    [[38;5;37m'AcquisitionMode'[m[38;5;244m[48;5;234m           , [38;5;37m'Continuous'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],[14;71H[K[15;1H[93m 15 [m[38;5;244m[48;5;234m[48;5;235m                ]                                                           [m[38;5;244m[48;5;234m[24;64H5[15;6H[?25h[?25l[38;5;239m[48;5;235m 15 [m[38;5;244m[48;5;234m                ][15;22H[K[16;1H[93m 16 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[24;64H6,0-1[16;5H[?25h[?25l[38;5;239m[48;5;235m 16 [m[38;5;244m[48;5;234m[16;5H[K[17;1H[93m 17 [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mclass[m[38;5;244m[48;5;234m[48;5;235m [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mCamera[m[38;5;244m[48;5;234m[48;5;235m():                                                             [m[38;5;244m[48;5;234m[24;64H7,2  [17;6H[?25h[?25l[38;5;239m[48;5;235m 17 [m[38;5;244m[48;5;234m[38;5;64mclass[m[38;5;244m[48;5;234m [38;5;33mCamera[m[38;5;244m[48;5;234m():[17;20H[K[18;1H[93m 18 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mdef[m[38;5;244m[48;5;234m[48;5;235m [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mconfig_camera[m[38;5;244m[48;5;234m[48;5;235m(self):                                                [m[38;5;244m[48;5;234m[24;64H8[18;6H[?25h[?25l[38;5;239m[48;5;235m 18 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mconfig_camera[m[38;5;244m[48;5;234m(self):[18;33H[K[19;1H[93m 19 [m[38;5;244m[48;5;234m[48;5;235m        cam = self.cam                                                      [m[38;5;244m[48;5;234m[24;64H9[19;6H[?25h[?25l[38;5;239m[48;5;235m 19 [m[38;5;244m[48;5;234m        cam = self.cam[19;27H[K[20;1H[93m 20 [m[38;5;244m[48;5;234m[48;5;235m        setting_list = self.setting_list                                    [m[38;5;244m[48;5;234m[24;63H20[20;6H[?25h[?25l[38;5;239m[48;5;235m 20 [m[38;5;244m[48;5;234m        setting_list = self.setting_list[20;45H[K[21;1H[93m 21 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mfor[m[38;5;244m[48;5;234m[48;5;235m i [m[38;5;244m[48;5;234m[38;5;64m[48;5;235min[m[38;5;244m[48;5;234m[48;5;235m [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mrange[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;33m[48;5;235mlen[m[38;5;244m[48;5;234m[48;5;235m(setting_list)):                                  [m[38;5;244m[48;5;234m[24;64H1[21;6H[?25h[?25l[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m        [38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):[21;47H[K[22;1H[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[24;64H2[22;6H[?25h[?25l[38;5;239m[48;5;235m 22 [m[38;5;244m[48;5;234m            [38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'General'[m[38;5;244m[48;5;234m:[22;52H[K[23;1H[93m 23 [m[38;5;244m[48;5;234m[48;5;235m                nodemap = cam.GetNodeMap()                                  [m[38;5;244m[48;5;234m[24;64H3[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m                nodemap = cam.GetNodeMap()[22;47H[K[23;1H[93m 24 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Stream'[m[38;5;244m[48;5;234m[48;5;235m:                              [m[38;5;244m[48;5;234m[24;63H[K[24;63H24,2[11C1%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m            [38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:[22;51H[K[23;1H[93m 25 [m[38;5;244m[48;5;234m[48;5;235m                nodemap = cam.GetTLStreamNodeMap()                          [m[38;5;244m[48;5;234m[24;63H[K[24;63H25,2[11C2%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m                nodemap = cam.GetTLStreamNodeMap()[22;55H[K[23;1H[93m 26 [m[38;5;244m[48;5;234m[48;5;235m            attribute = setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m]                                  [m[38;5;244m[48;5;234m[24;63H[K[24;63H26,2[11C4%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m            attribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m][22;47H[K[23;1H[93m 27 [m[38;5;244m[48;5;234m[48;5;235m            value =  setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m]                                     [m[38;5;244m[48;5;234m[24;63H[K[24;63H27,2[11C5%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m            value =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m][22;44H[K[23;1H[93m 28 [m[38;5;244m[48;5;234m[48;5;235m            node =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))      [m[38;5;244m[48;5;234m[24;63H[K[24;63H28,2[11C7%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m            node =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))[22;75H[K[23;1H[93m 29 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mnot[m[38;5;244m[48;5;234m[48;5;235m PySpin.IsAvailable(node) [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mor[m[38;5;244m[48;5;234m[48;5;235m [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mnot[m[38;5;244m[48;5;234m[48;5;235m PySpin.IsWritable(node): [m[38;5;244m[48;5;234m[24;63H[K[24;63H29,2[11C8%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m            [38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):[22;80H[K[23;1H[93m 30 [m[38;5;244m[48;5;234m[48;5;235m                [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mprint[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m[48;5;235m%attribute)             [m[38;5;244m[48;5;234m[24;63H[K[24;63H30,2[10C10%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m                [38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)[22;68H[K[23;1H[93m 31 [m[38;5;244m[48;5;234m[48;5;235m                [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mcontinue[m[38;5;244m[48;5;234m[48;5;235m                                                    [m[38;5;244m[48;5;234m[24;63H[K[24;63H31,2[10C11%[23;6H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m                [38;5;64mcontinue[m[38;5;244m[48;5;234m[22;29H[K[23;1H[93m 32 [m[38;5;244m[48;5;234m[48;5;235m            node_new_value = node.GetEntryByName(value)                     [m[38;5;244m[48;5;234m[24;63H[K[24;63H32,2[10C13%[23;6H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 31 [m[38;5;244m[48;5;234m[48;5;235m                [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mcontinue[m[38;5;244m[48;5;234m[48;5;235m                                                    [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()[24;63H31,17[9C44%[1;21H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 51 [m[38;5;244m[48;5;234m[48;5;235m        self.config_camera()                                                [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[15;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queu[23;1H[1m[38;5;240m@                                                                               [m[38;5;244m[48;5;234m[24;63H51,9[10C72%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 70 [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m __name__ == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'__main__'[m[38;5;244m[48;5;234m[48;5;235m:                                                  [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [m[38;5;244m[48;5;234m[24;63H70,1[10CBot[1;5H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 90 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mbreak[m[38;5;244m[48;5;234m[48;5;235m                                                           [m[38;5;244m[48;5;234m[2;1H[1m[38;5;240m~                                                                               [3;1H~                                                                               [4;1H~                                                                               [5;1H~                                                                               [6;1H~                                                                               [7;1H~                                                                               [8;1H~                                                                               [9;1H~                                                                               [10;1H~                                                                               [11;1H~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H90,13[9CBot[1;17H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[6;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[93m 89 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mdel[m[38;5;244m[48;5;234m[48;5;235m cam                                                         [m[38;5;244m[48;5;234m[24;63H89,13[9C98%[23;17H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 88 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m key == [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mord[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'q'[m[38;5;244m[48;5;234m[48;5;235m):                                                 [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [5;1H~                                                                               [6;1H~                                                                               [7;1H~                                                                               [8;1H~                                                                               [9;1H~                                                                               [10;1H~                                                                               [11;1H~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H88,9[10CBot[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[6;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[93m 89 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mdel[m[38;5;244m[48;5;234m[48;5;235m cam                                                         [m[38;5;244m[48;5;234m[24;63H89,13[9C98%[23;17H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m            [38;5;64mdel[m[38;5;244m[48;5;234m cam[22;24H[K[23;1H[93m 90 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mbreak[m[38;5;244m[48;5;234m[48;5;235m                                                           [m[38;5;244m[48;5;234m[24;63H[K[24;63H90,13[9CBot[23;17H[?25h[?25l[22;1H[93m 89 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mdel[m[38;5;244m[48;5;234m[48;5;235m cam                                                         [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m            [38;5;64mbreak[m[38;5;244m[48;5;234m[23;22H[K[24;63H89[22;17H[?25h[?25l[21;1H[93m 88 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m key == [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mord[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'q'[m[38;5;244m[48;5;234m[48;5;235m):                                                 [m[38;5;244m[48;5;234m[22;1H[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m            [38;5;64mdel[m[38;5;244m[48;5;234m cam[22;24H[K[24;64H8[21;17H[?25h[?25l[20;1H[93m 87 [m[38;5;244m[48;5;234m[48;5;235m        image_path_pub.publish(image_path)                                  [m[38;5;244m[48;5;234m[21;1H[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m        [38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):[21;32H[K[24;64H7[20;17H[?25h[?25l[19;1H[93m 86 [m[38;5;244m[48;5;234m[48;5;235m        key = cv2.waitKey([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m)                                                [m[38;5;244m[48;5;234m[20;1H[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m        image_path_pub.publish(image_path)[20;47H[K[24;64H6[19;17H[?25h[?25l[18;1H[93m 85 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imwrite(image_path,image)                                       [m[38;5;244m[48;5;234m[19;1H[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m        key = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)[19;33H[K[24;64H5[18;17H[?25h[?25l[17;1H[93m 84 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;239m[48;5;235m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m[48;5;235m              [m[38;5;244m[48;5;234m[18;1H[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m        cv2.imwrite(image_path,image)[18;42H[K[24;64H4[17;17H[?25h[?25l[16;1H[93m 83 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[17;1H[38;5;239m[48;5;235m 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m[17;67H[K[24;64H3,0-1[16;5H[?25h[?25l[15;1H[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[16;1H[38;5;239m[48;5;235m 83 [m[38;5;244m[48;5;234m[16;5H[K[24;64H2,13 [15;17H[?25h[?25l[14;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[15;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m        cv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)[15;42H[K[24;64H1[14;17H[?25h[?25l[13;1H[93m 80 [m[38;5;244m[48;5;234m[48;5;235m        image_to_show = cv2.resize(image,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m380[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m240[m[38;5;244m[48;5;234m[48;5;235m))                         [m[38;5;244m[48;5;234m[14;1H[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m        cv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)[14;59H[K[24;64H0[13;17H[?25h[?25l[12;1H[93m 79 [m[38;5;244m[48;5;234m[48;5;235m        image_path = storing_path + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'%d.bmp'[m[38;5;244m[48;5;234m[48;5;235m%(image_id)                     [m[38;5;244m[48;5;234m[13;1H[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m        image_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))[13;56H[K[24;63H79[12;17H[?25h[?25l[11;1H[93m 78 [m[38;5;244m[48;5;234m[48;5;235m        image_id = (image_id + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m) % [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m10[m[38;5;244m[48;5;234m[48;5;235m                                      [m[38;5;244m[48;5;234m[12;1H[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m        image_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)[12;60H[K[24;64H8[11;17H[?25h[?25l[10;1H[93m 77 [m[38;5;244m[48;5;234m[48;5;235m        image = cam.read()                                                  [m[38;5;244m[48;5;234m[11;1H[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m        image_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m[11;43H[K[24;64H7[10;17H[?25h[?25l[9;1H[93m 76 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mwhile[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m):                                                               [m[38;5;244m[48;5;234m[10;1H[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m        image = cam.read()[10;31H[K[24;64H6[9;17H[?25h[?25l[8;1H[93m 75 [m[38;5;244m[48;5;234m[48;5;235m    storing_path = os.getcwd() + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'/ram/'[m[38;5;244m[48;5;234m[48;5;235m                                    [m[38;5;244m[48;5;234m[9;1H[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):[9;18H[K[24;64H5[8;17H[?25h[?25l[7;1H[93m 74 [m[38;5;244m[48;5;234m[48;5;235m    image_id = [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m                                                            [m[38;5;244m[48;5;234m[8;1H[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m[8;45H[K[24;64H4[7;17H[?25h[?25l[6;1H[93m 73 [m[38;5;244m[48;5;234m[48;5;235m    cam = Camera()                                                          [m[38;5;244m[48;5;234m[7;1H[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m[7;21H[K[24;64H3[6;17H[?25h[?25l[4;1H[93m 72 [m[38;5;244m[48;5;234m[48;5;235m    image_path_pub = rospy.Publisher([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'image_path'[m[38;5;244m[48;5;234m[48;5;235m, std_msgs.msg.String, queuu[m[38;5;244m[48;5;234m[5;1H[93m    [m[38;5;244m[48;5;234m[48;5;235me_size=[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m)                                                                   [m[38;5;244m[48;5;234m[6;1H[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()[6;23H[K[24;64H2[4;17H[?25h[?25l[3;1H[93m 71 [m[38;5;244m[48;5;234m[48;5;235m    rospy.init_node([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'camera_node'[m[38;5;244m[48;5;234m[48;5;235m, anonymous=[m[38;5;244m[48;5;234m[38;5;33m[48;5;235mFalse[m[38;5;244m[48;5;234m[48;5;235m)                         [m[38;5;244m[48;5;234m[4;1H[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[5;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)[5;14H[K[24;64H1[3;17H[?25h[?25l[2;1H[93m 70 [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m __name__ == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'__main__'[m[38;5;244m[48;5;234m[48;5;235m:                                                  [m[38;5;244m[48;5;234m[3;1H[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)[3;56H[K[24;64H0[2;17H[?25h[?25l[1;1H[93m 69 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:[2;31H[K[24;63H69,0-1[1;5H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[93m 68 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mreturn[m[38;5;244m[48;5;234m[48;5;235m image                                                        [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 69 [m[38;5;244m[48;5;234m[2;5H[K[24;63H[K[24;63H68,13[9C98%[1;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[93m 67 [m[38;5;244m[48;5;234m[48;5;235m        image_pt.Release()                                                  [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m        [38;5;64mreturn[m[38;5;244m[48;5;234m image[2;25H[K[24;63H[K[24;63H67,13[9C97%[1;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[93m 66 [m[38;5;244m[48;5;234m[48;5;235m        image= image_pt.GetNDArray()                                        [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m        image_pt.Release()[2;31H[K[24;63H[K[24;63H66,13[9C95%[1;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[93m 65 [m[38;5;244m[48;5;234m[48;5;235m            os._exit([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m)                                                     [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m        image= image_pt.GetNDArray()[2;41H[K[24;63H[K[24;63H65,13[9C94%[1;17H[?25h[?25l[1;23r[1;1H[2L[1;24r[1;1H[93m 64 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mprint[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m[48;5;235m % image_pt.Gett[m[38;5;244m[48;5;234m[2;1H[93m    [m[38;5;244m[48;5;234m[48;5;235mImageStatus())                                                              [m[38;5;244m[48;5;234m[3;1H[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m            os._exit([38;5;37m0[m[38;5;244m[48;5;234m) [3;29H[K[24;63H[K[24;63H64,13[9C91%[1;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m            [38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[3;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())[3;19H[K[24;63H[K[24;63H63,13[9C89%[1;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[93m 62 [m[38;5;244m[48;5;234m[48;5;235m        image_pt = self.cam.GetNextImage()                                  [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m        [38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():[2;40H[K[24;63H[K[24;63H62,13[9C88%[1;17H[?25h[?25l[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m        image_pt = self.cam.GetNextImage()[1;47H[K[2;1H[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[24;64H3[2;17H[?25h[?25l[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m        [38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():[2;40H[K[3;1H[93m 64 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mprint[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m[48;5;235m % image_pt.Gett[m[38;5;244m[48;5;234m[4;1H[93m    [m[38;5;244m[48;5;234m[48;5;235mImageStatus())                                                              [m[38;5;244m[48;5;234m[24;64H4[3;17H[?25h[?25l[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m            [38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())[4;19H[K[5;1H[93m 65 [m[38;5;244m[48;5;234m[48;5;235m            os._exit([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m)                                                     [m[38;5;244m[48;5;234m[24;64H5[5;17H[?25h[?25l[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m            os._exit([38;5;37m0[m[38;5;244m[48;5;234m) [5;29H[K[6;1H[93m 66 [m[38;5;244m[48;5;234m[48;5;235m        image= image_pt.GetNDArray()                                        [m[38;5;244m[48;5;234m[24;64H6[6;17H[?25h[?25l[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m        image= image_pt.GetNDArray()[6;41H[K[7;1H[93m 67 [m[38;5;244m[48;5;234m[48;5;235m        image_pt.Release()                                                  [m[38;5;244m[48;5;234m[24;64H7[7;17H[?25h[?25l[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m        image_pt.Release()[7;31H[K[8;1H[93m 68 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mreturn[m[38;5;244m[48;5;234m[48;5;235m image                                                        [m[38;5;244m[48;5;234m[24;64H8[8;17H[?25h[?25l[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m        [38;5;64mreturn[m[38;5;244m[48;5;234m image[8;25H[K[9;1H[93m 69 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[24;64H9,0-1[9;5H[?25h[?25l[38;5;239m[48;5;235m 69 [m[38;5;244m[48;5;234m[9;5H[K[10;1H[93m 70 [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m __name__ == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'__main__'[m[38;5;244m[48;5;234m[48;5;235m:                                                  [m[38;5;244m[48;5;234m[24;63H70,13 [10;17H[?25h[?25l[38;5;239m[48;5;235m 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:[10;31H[K[11;1H[93m 71 [m[38;5;244m[48;5;234m[48;5;235m    rospy.init_node([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'camera_node'[m[38;5;244m[48;5;234m[48;5;235m, anonymous=[m[38;5;244m[48;5;234m[38;5;33m[48;5;235mFalse[m[38;5;244m[48;5;234m[48;5;235m)                         [m[38;5;244m[48;5;234m[24;64H1[11;17H[?25h[?25l[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)[11;56H[K[12;1H[93m 72 [m[38;5;244m[48;5;234m[48;5;235m    image_path_pub = rospy.Publisher([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'image_path'[m[38;5;244m[48;5;234m[48;5;235m, std_msgs.msg.String, queuu[m[38;5;244m[48;5;234m[13;1H[93m    [m[38;5;244m[48;5;234m[48;5;235me_size=[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m)                                                                   [m[38;5;244m[48;5;234m[24;64H2[12;17H[?25h[?25l[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)[13;14H[K[14;1H[93m 73 [m[38;5;244m[48;5;234m[48;5;235m    cam = Camera()                                                          [m[38;5;244m[48;5;234m[24;64H3[14;17H[?25h[?25l[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()[14;23H[K[15;1H[93m 74 [m[38;5;244m[48;5;234m[48;5;235m    image_id = [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m                                                            [m[38;5;244m[48;5;234m[24;64H4[15;17H[?25h[?25l[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m[15;21H[K[16;1H[93m 75 [m[38;5;244m[48;5;234m[48;5;235m    storing_path = os.getcwd() + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'/ram/'[m[38;5;244m[48;5;234m[48;5;235m                                    [m[38;5;244m[48;5;234m[24;64H5[16;17H[?25h[?25l[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m[16;45H[K[17;1H[93m 76 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mwhile[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m):                                                               [m[38;5;244m[48;5;234m[24;64H6[17;17H[?25h[?25l[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):[17;18H[K[18;1H[93m 77 [m[38;5;244m[48;5;234m[48;5;235m        image = cam.read()                                                  [m[38;5;244m[48;5;234m[24;64H7[18;17H[?25h[?25l[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m        image = cam.read()[18;31H[K[19;1H[93m 78 [m[38;5;244m[48;5;234m[48;5;235m        image_id = (image_id + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m) % [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m10[m[38;5;244m[48;5;234m[48;5;235m                                      [m[38;5;244m[48;5;234m[24;64H8[19;17H[?25h[?25l[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m        image_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m[19;43H[K[20;1H[93m 79 [m[38;5;244m[48;5;234m[48;5;235m        image_path = storing_path + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'%d.bmp'[m[38;5;244m[48;5;234m[48;5;235m%(image_id)                     [m[38;5;244m[48;5;234m[24;64H9[20;17H[?25h[?25l[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m        image_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)[20;60H[K[21;1H[93m 80 [m[38;5;244m[48;5;234m[48;5;235m        image_to_show = cv2.resize(image,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m380[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m240[m[38;5;244m[48;5;234m[48;5;235m))                         [m[38;5;244m[48;5;234m[24;63H80[21;17H[?25h[?25l[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m        image_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))[21;56H[K[22;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[24;64H1[22;17H[?25h[?25l[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m        cv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)[22;59H[K[23;1H[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;64H2[23;17H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m        cv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)[22;42H[K[23;1H[93m 83 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[24;63H[K[24;63H83,0-1[8C89%[23;5H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 83 [m[38;5;244m[48;5;234m[22;5H[K[23;1H[93m 84 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;239m[48;5;235m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m[48;5;235m              [m[38;5;244m[48;5;234m[24;63H[K[24;63H84,13[9C91%[23;17H[?25h[?25l[1;23r[1;1H[2M[1;24r[21;1H[38;5;239m[48;5;235m 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m[21;67H[K[22;1H[93m 85 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imwrite(image_path,image)                                       [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)[24;63H[K[24;63H85,13[9C94%[22;17H[?25h[?25l[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m        cv2.imwrite(image_path,image)[22;42H[K[23;1H[93m 86 [m[38;5;244m[48;5;234m[48;5;235m        key = cv2.waitKey([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m)                                                [m[38;5;244m[48;5;234m[24;64H6[23;17H[?25h[?25l[22;1H[93m 85 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imwrite(image_path,image)                                       [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m        key = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)[23;33H[K[24;64H5[22;17H[?25h[?25l[1;23r[1;1H[2L[1;24r[1;1H[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[2;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())[23;1H[93m 84 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;239m[48;5;235m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m[48;5;235m              [m[38;5;244m[48;5;234m[24;63H[K[24;63H84,13[9C91%[23;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():[23;1H[93m 83 [m[38;5;244m[48;5;234m[48;5;235m                                                                            [m[38;5;244m[48;5;234m[24;63H[K[24;63H83,0-1[8C89%[23;5H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()[23;1H[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H[K[24;63H82,13[9C88%[23;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[38;5;239m[48;5;235m 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):[23;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[24;63H[K[24;63H81,13[9C86%[23;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[38;5;239m[48;5;235m 60 [m[38;5;244m[48;5;234m[23;1H[93m 80 [m[38;5;244m[48;5;234m[48;5;235m        image_to_show = cv2.resize(image,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m380[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m240[m[38;5;244m[48;5;234m[48;5;235m))                         [m[38;5;244m[48;5;234m[24;63H[K[24;63H80,13[9C85%[23;17H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m        image_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))[22;56H[K[23;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[24;63H[K[24;63H81,13[9C86%[23;17H[?25h[?25l[22;1H[93m 80 [m[38;5;244m[48;5;234m[48;5;235m        image_to_show = cv2.resize(image,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m380[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m240[m[38;5;244m[48;5;234m[48;5;235m))                         [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m        cv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)[23;59H[K[24;64H0[22;17H[?25h[?25l[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m        image_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))[22;56H[K[23;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[24;64H1[23;17H[?25h[?25l[1;23r[23;1H
[1;24r[22;1H[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m        cv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)[22;59H[K[23;1H[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H[K[24;63H82,13[9C88%[23;17H[?25h[?25l[22;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m        cv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)[23;42H[K[24;64H1[22;17H[?25h[?25l[21;1H[93m 80 [m[38;5;244m[48;5;234m[48;5;235m        image_to_show = cv2.resize(image,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m380[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m240[m[38;5;244m[48;5;234m[48;5;235m))                         [m[38;5;244m[48;5;234m[22;1H[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m        cv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)[22;59H[K[24;64H0[21;17H[?25h[?25l[20;1H[93m 79 [m[38;5;244m[48;5;234m[48;5;235m        image_path = storing_path + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'%d.bmp'[m[38;5;244m[48;5;234m[48;5;235m%(image_id)                     [m[38;5;244m[48;5;234m[21;1H[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m        image_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))[21;56H[K[24;63H79[20;17H[?25h[?25l[19;1H[93m 78 [m[38;5;244m[48;5;234m[48;5;235m        image_id = (image_id + [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m) % [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m10[m[38;5;244m[48;5;234m[48;5;235m                                      [m[38;5;244m[48;5;234m[20;1H[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m        image_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)[20;60H[K[24;64H8[19;17H[?25h[?25l[18;1H[93m 77 [m[38;5;244m[48;5;234m[48;5;235m        image = cam.read()                                                  [m[38;5;244m[48;5;234m[19;1H[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m        image_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m[19;43H[K[24;64H7[18;17H[?25h[?25l[17;1H[93m 76 [m[38;5;244m[48;5;234m[48;5;235m    [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mwhile[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m1[m[38;5;244m[48;5;234m[48;5;235m):                                                               [m[38;5;244m[48;5;234m[18;1H[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m        image = cam.read()[18;31H[K[24;64H6[17;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[38;5;239m[48;5;235m 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):[24;63H[K[24;63H76,13[9C86%[18;17H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[93m 62 [m[38;5;244m[48;5;234m[48;5;235m        image_pt = self.cam.GetNextImage()                                  [m[38;5;244m[48;5;234m[24;63H62,9[10C58%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 20 [m[38;5;244m[48;5;234m[8Csetting_list = self.setting_list
[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m[8C[38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):
[38;5;239m[48;5;235m 22 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'General'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()
[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetTLStreamNodeMap()
[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m[12Cattribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m[12Cvalue =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m[12Cnode =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))
[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):
[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)
[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[15;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[93m 41 [m[38;5;244m[48;5;234m[48;5;235m        self.system = PySpin.System.GetInstance()                           [m[38;5;244m[48;5;234m[24;63H41,9[10C27%[23;13H[?25h[?25l[1;23r[1;1H[19L[1;24r[1;1H[38;5;239m[48;5;235m  1 [m[38;5;244m[48;5;234m[38;5;239m#!/usr/bin/env python[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  2 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m rospy
[38;5;239m[48;5;235m  3 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m std_msgs.msg
[38;5;239m[48;5;235m  4 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m PySpin
[38;5;239m[48;5;235m  5 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m numpy [38;5;64mas[m[38;5;244m[48;5;234m np
[38;5;239m[48;5;235m  6 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m cv2
[38;5;239m[48;5;235m  7 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m serial[38;5;239m#sudo pip3 install pyserial[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  8 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m time
[38;5;239m[48;5;235m  9 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m os
[38;5;239m[48;5;235m 10 
 11 [m[38;5;244m[48;5;234msetting_list = [
[38;5;239m[48;5;235m 12 [m[38;5;244m[48;5;234m    [[38;5;37m'TriggerMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Off'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 13 [m[38;5;244m[48;5;234m    [[38;5;37m'StreamBufferHandlingMode'[m[38;5;244m[48;5;234m  , [38;5;37m'NewestOnly'[m[38;5;244m[48;5;234m      , [38;5;37m'Stream'[m[38;5;244m[48;5;234m ],
[38;5;239m[48;5;235m 14 [m[38;5;244m[48;5;234m    [[38;5;37m'AcquisitionMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Continuous'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 15 [m[38;5;244m[48;5;234m[16C]
[38;5;239m[48;5;235m 16 
 17 [m[38;5;244m[48;5;234m[38;5;64mclass[m[38;5;244m[48;5;234m [38;5;33mCamera[m[38;5;244m[48;5;234m():
[38;5;239m[48;5;235m 18 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mconfig_camera[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 19 [m[38;5;244m[48;5;234m[8Ccam = self.cam

[93m 21 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mfor[m[38;5;244m[48;5;234m[48;5;235m i [m[38;5;244m[48;5;234m[38;5;64m[48;5;235min[m[38;5;244m[48;5;234m[48;5;235m [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mrange[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;33m[48;5;235mlen[m[38;5;244m[48;5;234m[48;5;235m(setting_list)):                                  [m[38;5;244m[48;5;234m[24;63H[K[24;63H21,9[10CTop[21;13H[?25h[?25l[?25h[?25l[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()
[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetTLStreamNodeMap()
[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m[12Cattribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m[12Cvalue =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m[12Cnode =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))
[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):
[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)
[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()[24;63H22,13[9C30%[1;17H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 42 [m[38;5;244m[48;5;234m[48;5;235m        self.cam_list = self.system.GetCameras()                            [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Get[23;1H[1m[38;5;240m@                                                                               [m[38;5;244m[48;5;234m[24;63H42,9[10C60%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 62 [m[38;5;244m[48;5;234m[48;5;235m        image_pt = self.cam.GetNextImage()                                  [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)[24;63H62,9[10C88%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H81,9[10CBot[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H82,9[10C88%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[24;63H63,9[10C59%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m[8C[38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):
[38;5;239m[48;5;235m 22 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'General'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()
[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetTLStreamNodeMap()
[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m[12Cattribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m[12Cvalue =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m[12Cnode =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))
[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):
[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)
[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[14;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[93m 42 [m[38;5;244m[48;5;234m[48;5;235m        self.cam_list = self.system.GetCameras()                            [m[38;5;244m[48;5;234m[24;63H42,9[10C29%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m  1 [m[38;5;244m[48;5;234m[38;5;239m#!/usr/bin/env python[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  2 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m rospy
[38;5;239m[48;5;235m  3 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m std_msgs.msg
[38;5;239m[48;5;235m  4 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m PySpin
[38;5;239m[48;5;235m  5 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m numpy [38;5;64mas[m[38;5;244m[48;5;234m np
[38;5;239m[48;5;235m  6 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m cv2
[38;5;239m[48;5;235m  7 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m serial[38;5;239m#sudo pip3 install pyserial[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  8 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m time
[38;5;239m[48;5;235m  9 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m os
[38;5;239m[48;5;235m 10 
 11 [m[38;5;244m[48;5;234msetting_list = [
[38;5;239m[48;5;235m 12 [m[38;5;244m[48;5;234m    [[38;5;37m'TriggerMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Off'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 13 [m[38;5;244m[48;5;234m    [[38;5;37m'StreamBufferHandlingMode'[m[38;5;244m[48;5;234m  , [38;5;37m'NewestOnly'[m[38;5;244m[48;5;234m      , [38;5;37m'Stream'[m[38;5;244m[48;5;234m ],
[38;5;239m[48;5;235m 14 [m[38;5;244m[48;5;234m    [[38;5;37m'AcquisitionMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Continuous'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 15 [m[38;5;244m[48;5;234m[16C]
[38;5;239m[48;5;235m 16 
 17 [m[38;5;244m[48;5;234m[38;5;64mclass[m[38;5;244m[48;5;234m [38;5;33mCamera[m[38;5;244m[48;5;234m():
[38;5;239m[48;5;235m 18 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mconfig_camera[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 19 [m[38;5;244m[48;5;234m[8Ccam = self.cam
[38;5;239m[48;5;235m 20 [m[38;5;244m[48;5;234m[8Csetting_list = self.setting_list
[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m[8C[38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):
[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()[24;63H22,13[9CTop[22;17H[?25h[?25l[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()
[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetTLStreamNodeMap()
[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m[12Cattribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m[12Cvalue =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m[12Cnode =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))
[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):
[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)
[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()[24;63H22,13[9C30%[1;17H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 42 [m[38;5;244m[48;5;234m[48;5;235m        self.cam_list = self.system.GetCameras()                            [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Get[23;1H[1m[38;5;240m@                                                                               [m[38;5;244m[48;5;234m[24;63H42,9[10C60%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 62 [m[38;5;244m[48;5;234m[48;5;235m        image_pt = self.cam.GetNextImage()                                  [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)[24;63H62,9[10C88%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H81,9[10CBot[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H82,9[10C88%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[24;63H63,9[10C59%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m[8C[38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):
[38;5;239m[48;5;235m 22 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'General'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()
[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetTLStreamNodeMap()
[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m[12Cattribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m[12Cvalue =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m[12Cnode =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))
[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):
[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)
[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[14;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[93m 42 [m[38;5;244m[48;5;234m[48;5;235m        self.cam_list = self.system.GetCameras()                            [m[38;5;244m[48;5;234m[24;63H42,9[10C29%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m  1 [m[38;5;244m[48;5;234m[38;5;239m#!/usr/bin/env python[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  2 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m rospy
[38;5;239m[48;5;235m  3 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m std_msgs.msg
[38;5;239m[48;5;235m  4 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m PySpin
[38;5;239m[48;5;235m  5 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m numpy [38;5;64mas[m[38;5;244m[48;5;234m np
[38;5;239m[48;5;235m  6 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m cv2
[38;5;239m[48;5;235m  7 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m serial[38;5;239m#sudo pip3 install pyserial[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m  8 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m time
[38;5;239m[48;5;235m  9 [m[38;5;244m[48;5;234m[38;5;166mimport[m[38;5;244m[48;5;234m os
[38;5;239m[48;5;235m 10 
 11 [m[38;5;244m[48;5;234msetting_list = [
[38;5;239m[48;5;235m 12 [m[38;5;244m[48;5;234m    [[38;5;37m'TriggerMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Off'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 13 [m[38;5;244m[48;5;234m    [[38;5;37m'StreamBufferHandlingMode'[m[38;5;244m[48;5;234m  , [38;5;37m'NewestOnly'[m[38;5;244m[48;5;234m      , [38;5;37m'Stream'[m[38;5;244m[48;5;234m ],
[38;5;239m[48;5;235m 14 [m[38;5;244m[48;5;234m    [[38;5;37m'AcquisitionMode'[m[38;5;244m[48;5;234m[11C, [38;5;37m'Continuous'[m[38;5;244m[48;5;234m      , [38;5;37m'General'[m[38;5;244m[48;5;234m],
[38;5;239m[48;5;235m 15 [m[38;5;244m[48;5;234m[16C]
[38;5;239m[48;5;235m 16 
 17 [m[38;5;244m[48;5;234m[38;5;64mclass[m[38;5;244m[48;5;234m [38;5;33mCamera[m[38;5;244m[48;5;234m():
[38;5;239m[48;5;235m 18 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mconfig_camera[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 19 [m[38;5;244m[48;5;234m[8Ccam = self.cam
[38;5;239m[48;5;235m 20 [m[38;5;244m[48;5;234m[8Csetting_list = self.setting_list
[38;5;239m[48;5;235m 21 [m[38;5;244m[48;5;234m[8C[38;5;64mfor[m[38;5;244m[48;5;234m i [38;5;64min[m[38;5;244m[48;5;234m [38;5;33mrange[m[38;5;244m[48;5;234m([38;5;33mlen[m[38;5;244m[48;5;234m(setting_list)):
[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()[24;63H22,13[9CTop[22;17H[?25h[?25l[?25h[?25l[38;5;239m[48;5;235m 22 [m[38;5;244m[48;5;234m            [38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'General'[m[38;5;244m[48;5;234m:[22;52H[K[23;1H[93m 23 [m[38;5;244m[48;5;234m[48;5;235m                nodemap = cam.GetNodeMap()                                  [m[38;5;244m[48;5;234m[24;64H3[23;17H[?25h[?25l[22;1H[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[23;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m                nodemap = cam.GetNodeMap()[23;47H[K[24;64H2[22;17H[?25h[?25l[24;67H4[22;18H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 22 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m setting_list[i][[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m] == [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'General'[m[38;5;244m[48;5;234m[48;5;235m:                             [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 23 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetNodeMap()
[38;5;239m[48;5;235m 24 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m setting_list[i][[38;5;37m2[m[38;5;244m[48;5;234m] == [38;5;37m'Stream'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 25 [m[38;5;244m[48;5;234m[16Cnodemap = cam.GetTLStreamNodeMap()
[38;5;239m[48;5;235m 26 [m[38;5;244m[48;5;234m[12Cattribute = setting_list[i][[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 27 [m[38;5;244m[48;5;234m[12Cvalue =  setting_list[i][[38;5;37m1[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 28 [m[38;5;244m[48;5;234m[12Cnode =  PySpin.CEnumerationPtr(nodemap.GetNode(attribute))
[38;5;239m[48;5;235m 29 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsWritable(node):
[38;5;239m[48;5;235m 30 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Unable to set attribute : %s'[m[38;5;244m[48;5;234m%attribute)
[38;5;239m[48;5;235m 31 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 32 [m[38;5;244m[48;5;234m[12Cnode_new_value = node.GetEntryByName(value)
[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mle(node_new_value):
[38;5;239m[48;5;235m 34 [m[38;5;244m[48;5;234m[16C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Cant set %s --> %s'[m[38;5;244m[48;5;234m%(value,attribute))
[38;5;239m[48;5;235m 35 [m[38;5;244m[48;5;234m[16C[38;5;64mcontinue[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 36 [m[38;5;244m[48;5;234m[12Cnode.SetIntValue(node_new_value.GetValue())
[38;5;239m[48;5;235m 37 
 38 
 39 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__init__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 40 [m[38;5;244m[48;5;234m[8Cself.setting_list = setting_list
[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()[24;63H22,13[9C30%[1;17H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 42 [m[38;5;244m[48;5;234m[48;5;235m        self.cam_list = self.system.GetCameras()                            [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Get[23;1H[1m[38;5;240m@                                                                               [m[38;5;244m[48;5;234m[24;63H42,9[10C60%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 62 [m[38;5;244m[48;5;234m[48;5;235m        image_pt = self.cam.GetNextImage()                                  [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)[24;63H62,9[10C88%[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H81,9[10CBot[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H82,9[10C88%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H81,9[10CBot[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H82,9[10C88%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[93m 81 [m[38;5;244m[48;5;234m[48;5;235m        cv2.circle(image_to_show, ([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m190[m[38;5;244m[48;5;234m[48;5;235m,[m[38;5;244m[48;5;234m[38;5;37m[48;5;235m120[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m5[m[38;5;244m[48;5;234m[48;5;235m,([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m0[m[38;5;244m[48;5;234m[48;5;235m), [m[38;5;244m[48;5;234m[38;5;37m[48;5;235m2[m[38;5;244m[48;5;234m[48;5;235m)                      [m[38;5;244m[48;5;234m[2;1H[38;5;239m[48;5;235m 82 [m[38;5;244m[48;5;234m[8Ccv2.imshow([38;5;37m'a'[m[38;5;244m[48;5;234m,image_to_show)
[38;5;239m[48;5;235m 83 
 84 [m[38;5;244m[48;5;234m    [38;5;239m#    cv2.imwrite(image_path,cv2.resize(image, (960, 600)))[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 85 [m[38;5;244m[48;5;234m[8Ccv2.imwrite(image_path,image)
[38;5;239m[48;5;235m 86 [m[38;5;244m[48;5;234m[8Ckey = cv2.waitKey([38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 87 [m[38;5;244m[48;5;234m[8Cimage_path_pub.publish(image_path)
[38;5;239m[48;5;235m 88 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m key == [38;5;33mord[m[38;5;244m[48;5;234m([38;5;37m'q'[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 89 [m[38;5;244m[48;5;234m[12C[38;5;64mdel[m[38;5;244m[48;5;234m cam
[38;5;239m[48;5;235m 90 [m[38;5;244m[48;5;234m[12C[38;5;64mbreak[m[38;5;244m[48;5;234m
[1m[38;5;240m~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[38;5;244m[48;5;234m[24;63H81,9[10CBot[1;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():
[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[4;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())
[38;5;239m[48;5;235m 65 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 66 [m[38;5;244m[48;5;234m[8Cimage= image_pt.GetNDArray()
[38;5;239m[48;5;235m 67 [m[38;5;244m[48;5;234m[8Cimage_pt.Release()
[38;5;239m[48;5;235m 68 [m[38;5;244m[48;5;234m[8C[38;5;64mreturn[m[38;5;244m[48;5;234m image
[38;5;239m[48;5;235m 69 
 70 [m[38;5;244m[48;5;234m[38;5;64mif[m[38;5;244m[48;5;234m __name__ == [38;5;37m'__main__'[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 71 [m[38;5;244m[48;5;234m    rospy.init_node([38;5;37m'camera_node'[m[38;5;244m[48;5;234m, anonymous=[38;5;33mFalse[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 72 [m[38;5;244m[48;5;234m    image_path_pub = rospy.Publisher([38;5;37m'image_path'[m[38;5;244m[48;5;234m, std_msgs.msg.String, queuu[13;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234me_size=[38;5;37m1[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 73 [m[38;5;244m[48;5;234m    cam = Camera()
[38;5;239m[48;5;235m 74 [m[38;5;244m[48;5;234m    image_id = [38;5;37m0[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 75 [m[38;5;244m[48;5;234m    storing_path = os.getcwd() + [38;5;37m'/ram/'[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 76 [m[38;5;244m[48;5;234m    [38;5;64mwhile[m[38;5;244m[48;5;234m([38;5;37m1[m[38;5;244m[48;5;234m):
[38;5;239m[48;5;235m 77 [m[38;5;244m[48;5;234m[8Cimage = cam.read()
[38;5;239m[48;5;235m 78 [m[38;5;244m[48;5;234m[8Cimage_id = (image_id + [38;5;37m1[m[38;5;244m[48;5;234m) % [38;5;37m10[m[38;5;244m[48;5;234m
[38;5;239m[48;5;235m 79 [m[38;5;244m[48;5;234m[8Cimage_path = storing_path + [38;5;37m'%d.bmp'[m[38;5;244m[48;5;234m%(image_id)
[38;5;239m[48;5;235m 80 [m[38;5;244m[48;5;234m[8Cimage_to_show = cv2.resize(image,([38;5;37m380[m[38;5;244m[48;5;234m,[38;5;37m240[m[38;5;244m[48;5;234m))
[38;5;239m[48;5;235m 81 [m[38;5;244m[48;5;234m[8Ccv2.circle(image_to_show, ([38;5;37m190[m[38;5;244m[48;5;234m,[38;5;37m120[m[38;5;244m[48;5;234m), [38;5;37m5[m[38;5;244m[48;5;234m,([38;5;37m0[m[38;5;244m[48;5;234m), [38;5;37m2[m[38;5;244m[48;5;234m)
[93m 82 [m[38;5;244m[48;5;234m[48;5;235m        cv2.imshow([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'a'[m[38;5;244m[48;5;234m[48;5;235m,image_to_show)                                       [m[38;5;244m[48;5;234m[24;63H82,9[10C88%[23;13H[?25h[?25l[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[1;1H[38;5;239m[48;5;235m 41 [m[38;5;244m[48;5;234m[8Cself.system = PySpin.System.GetInstance()
[38;5;239m[48;5;235m 42 [m[38;5;244m[48;5;234m[8Cself.cam_list = self.system.GetCameras()
[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[24;63H63,9[10C59%[23;13H[?25h[?25l[1;23r[1;1H[2M[1;24r[21;1H[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m        [38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():[21;40H[K[22;1H[93m 64 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mprint[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m[48;5;235m % image_pt.Gett[m[38;5;244m[48;5;234m[23;1H[93m    [m[38;5;244m[48;5;234m[48;5;235mImageStatus())                                                              [m[38;5;244m[48;5;234m[24;63H[K[24;63H64,9[10C61%[22;13H[?25h[?25l[21;1H[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[22;1H[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m            [38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[23;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())[23;19H[K[24;64H3[21;13H[?25h[?25l[24;66H10[21;14H[?25h[?25l[24;63H[K[24;1H:[?2004hw | sh"camera_node.py" 90L, 3089C written[39;49m[?2004l[?1l>[?25h[?1049l[23;0;0t
[?2004l]0;root@titan: ~/myros/camera[01;32mroot@titan[00m:[01;34m~/myros/camera[00m# ^C
]0;root@titan: ~/myros/camera[01;32mroot@titan[00m:[01;34m~/myros/camera[00m# exit
[?2004h
shell returned 130
[?1049h[22;0;0t[?1h=[?2004h[27m[23m[29m[m[38;5;244m[48;5;234m[H[2J[?25l[1;1H[38;5;239m[48;5;235m 43 [m[38;5;244m[48;5;234m[8Cnum_cameras = self.cam_list.GetSize()
[38;5;239m[48;5;235m 44 [m[38;5;244m[48;5;234m[8C[38;5;64mif[m[38;5;244m[48;5;234m num_cameras == [38;5;37m0[m[38;5;244m[48;5;234m:
[38;5;239m[48;5;235m 45 [m[38;5;244m[48;5;234m[12Cself.cam_list.Clear()
[38;5;239m[48;5;235m 46 [m[38;5;244m[48;5;234m[12Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 47 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Not enough cameras!'[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 48 [m[38;5;244m[48;5;234m[12Cos._exit([38;5;37m0[m[38;5;244m[48;5;234m)
[38;5;239m[48;5;235m 49 [m[38;5;244m[48;5;234m[8Cself.cam = self.cam_list[[38;5;37m0[m[38;5;244m[48;5;234m]
[38;5;239m[48;5;235m 50 [m[38;5;244m[48;5;234m[8Cself.cam.Init()
[38;5;239m[48;5;235m 51 [m[38;5;244m[48;5;234m[8Cself.config_camera()
[38;5;239m[48;5;235m 52 [m[38;5;244m[48;5;234m[8Cself.cam.BeginAcquisition()
[38;5;239m[48;5;235m 53 
 54 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33m__del__[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 55 [m[38;5;244m[48;5;234m[8Cself.cam.EndAcquisition()
[38;5;239m[48;5;235m 56 [m[38;5;244m[48;5;234m[8Cself.cam.DeInit()
[38;5;239m[48;5;235m 57 [m[38;5;244m[48;5;234m[8C[38;5;64mdel[m[38;5;244m[48;5;234m self.cam
[38;5;239m[48;5;235m 58 [m[38;5;244m[48;5;234m[8Cself.cam_list.Clear()
[38;5;239m[48;5;235m 59 [m[38;5;244m[48;5;234m[8Cself.system.ReleaseInstance()
[38;5;239m[48;5;235m 60 
 61 [m[38;5;244m[48;5;234m    [38;5;64mdef[m[38;5;244m[48;5;234m [38;5;33mread[m[38;5;244m[48;5;234m(self):
[38;5;239m[48;5;235m 62 [m[38;5;244m[48;5;234m[8Cimage_pt = self.cam.GetNextImage()
[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[22;1H[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m[12C[38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[23;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())[24;63H63,10[9C61%"camera_node.py" 90L, 3089C written[24;63H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[38;5;239m[48;5;235m 63 [m[38;5;244m[48;5;234m        [38;5;64mif[m[38;5;244m[48;5;234m image_pt.IsIncomplete():[21;40H[K[22;1H[93m 64 [m[38;5;244m[48;5;234m[48;5;235m            [m[38;5;244m[48;5;234m[38;5;33m[48;5;235mprint[m[38;5;244m[48;5;234m[48;5;235m([m[38;5;244m[48;5;234m[38;5;37m[48;5;235m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m[48;5;235m % image_pt.Gett[m[38;5;244m[48;5;234m[23;1H[93m    [m[38;5;244m[48;5;234m[48;5;235mImageStatus())                                                              [m[38;5;244m[48;5;234m[24;64H4[22;14H[?25h[?25l[21;1H[93m 63 [m[38;5;244m[48;5;234m[48;5;235m        [m[38;5;244m[48;5;234m[38;5;64m[48;5;235mif[m[38;5;244m[48;5;234m[48;5;235m image_pt.IsIncomplete():                                         [m[38;5;244m[48;5;234m[22;1H[38;5;239m[48;5;235m 64 [m[38;5;244m[48;5;234m            [38;5;33mprint[m[38;5;244m[48;5;234m([38;5;37m'Image incomplete with image status %d ...'[m[38;5;244m[48;5;234m % image_pt.Gett[23;1H[38;5;239m[48;5;235m    [m[38;5;244m[48;5;234mImageStatus())[23;19H[K[24;64H3[21;14H[?25h[?25l


Already at oldest change[24;25H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[24;63H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[24;63H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[24;63H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[24;63H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[24;63H[K[24;63H63,10[9C61%[21;14H[?25h[?25l[1;23r[1;1H[11L[1;24r[1;1H[38;5;239m[48;5;235m 33 [m[38;5;244m[48;5;234m[12C[38;5;64mif[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsAvailable(node_new_value) [38;5;64mor[m[38;5;244m[48;5;234m [38;5;64mnot[m[38;5;244m[48;5;234m PySpin.IsReadabb[2;1H[38;5;239m[48;5;235m    [m[38;5;